<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>版本 4.5.0 &mdash; CodeIgniter 4.6.0 中文手册|用户手册|用户指南|中文文档</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/citheme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/citheme_dark.css" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/translations.js"></script>
        <script src="../_static/js/citheme.js"></script>
        <script src="../_static/js/carbon.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="版本 4.4.8" href="v4.4.8.html" />
    <link rel="prev" title="版本 4.5.1" href="v4.5.1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/ci-logo-text.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">欢迎使用 CodeIgniter4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro/index.html">欢迎使用 CodeIgniter4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/requirements.html">服务器要求</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/credits.html">致谢</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/psr.html">PSR 兼容性</a></li>
<li class="toctree-l2"><a class="reference internal" href="../license.html">许可协议</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../installation/index.html">安装</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../installation/installing_composer.html">Composer 安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/installing_manual.html">手动安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/running.html">运行你的应用程序</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">故障排除</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/deployment.html">部署</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">变更记录</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">从前一版本升级</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/repositories.html">CodeIgniter 仓库</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">构建你的第一个应用程序</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">静态页面</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">新闻部分</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">创建新闻</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">结束语</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">CodeIgniter4 概览</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../concepts/structure.html">应用程序结构</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/mvc.html">模型、视图和控制器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/autoloader.html">自动加载文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/services.html">服务</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/factories.html">工厂</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/http.html">处理 HTTP 请求</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/security.html">安全指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/goals.html">设计与架构目标</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">常规主题</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/configuration.html">配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">CodeIgniter URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">辅助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">全局函数和常量</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/logging.html">记录信息</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">错误处理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">网页缓存</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ajax.html">AJAX 请求</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/modules.html">代码模块</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">管理应用程序</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">处理多个环境</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../incoming/index.html">控制器和路由</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../incoming/routing.html">URI 路由</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/controllers.html">控制器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/filters.html">控制器过滤器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/auto_routing_improved.html">自动路由（改进版）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/message.html">HTTP 消息</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/request.html">请求类</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/incomingrequest.html">IncomingRequest 类</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/content_negotiation.html">内容协商</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/methodspoofing.html">HTTP 方法欺骗</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/restful.html">RESTful 资源处理</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../outgoing/index.html">构建响应</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/views.html">视图</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_renderer.html">视图渲染器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_layouts.html">视图布局</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_cells.html">视图单元</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_parser.html">视图解析器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_decorators.html">视图装饰器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/table.html">HTML 表格类</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/response.html">HTTP 响应</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/api_responses.html">API 响应特性</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/csp.html">内容安全策略</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/localization.html">本地化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/alternative_php.html">在视图文件中使用 PHP 替代语法</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">使用数据库</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">快速入门:使用示例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">数据库配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">连接数据库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">运行查询</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">生成查询结果</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">查询辅助方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">查询构建器类</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">事务</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">获取元数据</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">自定义函数调用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/events.html">数据库事件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">数据库实用工具</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../models/index.html">数据建模</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../models/model.html">使用 CodeIgniter 的模型</a></li>
<li class="toctree-l2"><a class="reference internal" href="../models/entities.html">使用实体类</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dbmgmt/index.html">管理数据库</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/forge.html">数据库 Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/migration.html">数据库迁移</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/seeds.html">数据库填充</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/db_commands.html">数据库命令</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">类库参考</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../libraries/caching.html">缓存驱动</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/cookies.html">Cookie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/cors.html">跨域资源共享 (CORS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/curlrequest.html">CURLRequest 类</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/email.html">Email 类</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/encryption.html">加密服务</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/files.html">文件处理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/file_collections.html">文件集合</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/honeypot.html">蜜罐类</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/images.html">图像处理类</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/pagination.html">分页</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/publisher.html">Publisher</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/security.html">安全</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/sessions.html">Session 库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/throttler.html">限速器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/time.html">时间与日期</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/typography.html">排版</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uploaded_files.html">处理上传的文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html">使用 URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/user_agent.html">User Agent 类</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/validation.html">数据验证</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">辅助函数</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">数组辅助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Cookie 辅助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">日期辅助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/filesystem_helper.html">文件系统辅助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">表单辅助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">HTML 辅助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Inflector 辅助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">数字辅助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">安全辅助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/test_helper.html">测试辅助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">文本辅助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">URL 辅助函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">XML 辅助函数</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing/index.html">测试</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../testing/overview.html">入门指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/database.html">数据库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/fabricator.html">生成数据</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/controllers.html">测试控制器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/feature.html">HTTP 测试</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/response.html">测试响应</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/cli.html">测试 CLI 命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/mocking.html">模拟</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/benchmark.html">基准测试</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/debugging.html">调试应用程序</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">命令行使用</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_overview.html">CLI 概览</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_controllers.html">通过 CLI 运行控制器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/spark_commands.html">Spark 命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_commands.html">创建 Spark 命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_generators.html">CLI 生成器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_library.html">CLI 库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_request.html">CLIRequest 类</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../extending/index.html">扩展 CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../extending/core_classes.html">创建核心系统类</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/common.html">替换通用函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/events.html">事件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/basecontroller.html">扩展控制器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/authentication.html">身份验证</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/composer_packages.html">创建 Composer 包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/contributing.html">为 CodeIgniter 做贡献</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/official_packages.html">官方包</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CodeIgniter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../installation/index.html">安装</a></li>
          <li class="breadcrumb-item"><a href="index.html">变更记录</a></li>
      <li class="breadcrumb-item active">版本 4.5.0</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1>版本 4.5.0<a class="headerlink" href="#id1" title="此标题的永久链接"></a></h1>
<p>发布日期：2024 年 4 月 7 日</p>
<p><strong>CodeIgniter4 的 4.5.0 版本发布</strong></p>
<nav class="contents local" id="id2">
<ul class="simple">
<li><p><a class="reference internal" href="#id3" id="id37">亮点</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id38">增强功能</a></p>
<ul>
<li><p><a class="reference internal" href="#v450-required-filters" id="id39">必需过滤器</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id40">路由</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id41">命令</a></p></li>
<li><p><a class="reference internal" href="#id9" id="id42">测试</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id43">数据库</a></p>
<ul>
<li><p><a class="reference internal" href="#id11" id="id44">查询生成器</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id45">其他</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id13" id="id46">模型</a></p>
<ul>
<li><p><a class="reference internal" href="#id14" id="id47">模型字段转换</a></p></li>
<li><p><a class="reference internal" href="#findall-0" id="id48">findAll(0) 行为</a></p></li>
<li><p><a class="reference internal" href="#updateonlychanged" id="id49">$updateOnlyChanged</a></p></li>
<li><p><a class="reference internal" href="#id15" id="id50">保存日期</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id16" id="id51">库</a></p></li>
<li><p><a class="reference internal" href="#id17" id="id52">其他</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id18" id="id53">重大变更</a></p>
<ul>
<li><p><a class="reference internal" href="#id19" id="id54">行为更改</a></p>
<ul>
<li><p><a class="reference internal" href="#http" id="id55">小写 HTTP 方法名</a></p></li>
<li><p><a class="reference internal" href="#id20" id="id56">过滤器执行顺序</a></p></li>
<li><p><a class="reference internal" href="#id21" id="id57">嵌套路由组和选项</a></p></li>
<li><p><a class="reference internal" href="#api-responsetrait" id="id58">API\ResponseTrait</a></p></li>
<li><p><a class="reference internal" href="#factories" id="id59">Factories 类</a></p></li>
<li><p><a class="reference internal" href="#id22" id="id60">其他</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id23" id="id61">接口更改</a></p></li>
<li><p><a class="reference internal" href="#v450-method-signature-changes" id="id62">方法签名更改</a></p>
<ul>
<li><p><a class="reference internal" href="#cookie" id="id63">设置 Cookie</a></p></li>
<li><p><a class="reference internal" href="#filelocatorinterface" id="id64">FileLocatorInterface</a></p></li>
<li><p><a class="reference internal" href="#id25" id="id65">返回类型更改</a></p></li>
<li><p><a class="reference internal" href="#id26" id="id66">传统验证规则</a></p></li>
<li><p><a class="reference internal" href="#id27" id="id67">其他</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#v450-removed-deprecated-items" id="id68">移除的弃用项</a></p>
<ul>
<li><p><a class="reference internal" href="#request" id="id69">Request</a></p></li>
<li><p><a class="reference internal" href="#filters" id="id70">Filters</a></p></li>
<li><p><a class="reference internal" href="#id29" id="id71">数据库</a></p></li>
<li><p><a class="reference internal" href="#id30" id="id72">模型</a></p></li>
<li><p><a class="reference internal" href="#response" id="id73">Response</a></p></li>
<li><p><a class="reference internal" href="#security" id="id74">Security</a></p></li>
<li><p><a class="reference internal" href="#codeigniter" id="id75">CodeIgniter</a></p></li>
<li><p><a class="reference internal" href="#id31" id="id76">测试</a></p></li>
<li><p><a class="reference internal" href="#spark" id="id77">Spark 命令</a></p></li>
<li><p><a class="reference internal" href="#id32" id="id78">其他</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#id33" id="id79">消息更改</a></p></li>
<li><p><a class="reference internal" href="#id34" id="id80">更改</a></p></li>
<li><p><a class="reference internal" href="#id35" id="id81">弃用项</a></p></li>
<li><p><a class="reference internal" href="#id36" id="id82">修复的错误</a></p></li>
</ul>
</nav>
<section id="id3">
<h2><a class="toc-backref" href="#id37" role="doc-backlink">亮点</a><a class="headerlink" href="#id3" title="此标题的永久链接"></a></h2>
<ul class="simple">
<li><p>更新最低 PHP 要求至 8.1。</p></li>
<li><p>更新最低 PHPUnit 要求至 10.5。</p></li>
<li><p><strong>CORS 过滤器</strong> （<em>由</em> <a class="reference external" href="https://github.com/kenjis">kenjis</a> <em>贡献</em>）
详见 <a class="reference internal" href="../libraries/cors.html"><span class="doc">跨域资源共享 (CORS)</span></a>。</p></li>
<li><p>用于在生产环境中提升性能的 <strong>spark optimize</strong> 命令（<em>由</em> <a class="reference external" href="https://github.com/kenjis">kenjis</a> <em>贡献</em>）。
见 <a class="reference internal" href="../installation/deployment.html#spark-optimize"><span class="std std-ref">spark optimize</span></a>。</p></li>
</ul>
</section>
<section id="id5">
<h2><a class="toc-backref" href="#id38" role="doc-backlink">增强功能</a><a class="headerlink" href="#id5" title="此标题的永久链接"></a></h2>
<section id="v450-required-filters">
<span id="id6"></span><h3><a class="toc-backref" href="#id39" role="doc-backlink">必需过滤器</a><a class="headerlink" href="#v450-required-filters" title="此标题的永久链接"></a></h3>
<p>引入了新的 <a class="reference internal" href="../incoming/filters.html#filters-required"><span class="std std-ref">必需过滤器</span></a>。这些是特殊的过滤器，它们在其他种类的过滤器之前和之后应用，并且即使路由不存在也总会应用。</p>
<p>以下现有功能已重新实现为必需过滤器。</p>
<ul class="simple">
<li><p><a class="reference internal" href="../incoming/filters.html#forcehttps"><span class="std std-ref">强制全局安全请求</span></a></p></li>
<li><p><a class="reference internal" href="../general/caching.html"><span class="doc">网页缓存</span></a></p></li>
<li><p><a class="reference internal" href="../incoming/filters.html#performancemetrics"><span class="std std-ref">性能指标</span></a></p></li>
<li><p><a class="reference internal" href="../testing/debugging.html#the-debug-toolbar"><span class="std std-ref">调试工具栏</span></a></p></li>
</ul>
<p>调试工具栏使用的 Benchmark <strong>Timers</strong> 现在收集 <em>必需前过滤器</em> 和 <em>必需后过滤器</em> 数据。</p>
<p>基准测试点已经更改：</p>
<ul>
<li><p>之前：</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bootstrap</span></code>: 创建 Request 和 Response 对象，事件 <code class="docutils literal notranslate"><span class="pre">pre_system</span></code>，实例化 RouteCollection 对象，加载 Routes 文件，实例化 Router 对象，</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">routing</span></code>: 路由，</p></li>
</ul>
</div></blockquote>
</li>
<li><p>之后：</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bootstrap</span></code>: 创建 Request 和 Response 对象，事件 <code class="docutils literal notranslate"><span class="pre">pre_system</span></code>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">required_before_filters</span></code>: 实例化 Filters 对象，运行 <em>必需前过滤器</em>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">routing</span></code>: 实例化 RouteCollection 对象，加载 Routes 文件，实例化 Router 对象，路由，</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="id7">
<h3><a class="toc-backref" href="#id40" role="doc-backlink">路由</a><a class="headerlink" href="#id7" title="此标题的永久链接"></a></h3>
<ul class="simple">
<li><p><strong>AutoRouting 改进：</strong> 添加了 <code class="docutils literal notranslate"><span class="pre">$translateUriToCamelCase</span></code> 选项，允许使用驼峰式（CamelCase）控制器和方法名称。详见 <a class="reference internal" href="../incoming/auto_routing_improved.html#translate-uri-to-camelcase"><span class="std std-ref">URI 转驼峰命名</span></a>。</p></li>
<li><dl class="simple">
<dt><strong>其他改进：</strong></dt><dd><ul>
<li><p>添加了 <code class="docutils literal notranslate"><span class="pre">$multipleSegmentsOneParam</span></code> 选项。启用该选项时，匹配多个段的占位符（如 <code class="docutils literal notranslate"><span class="pre">(:any)</span></code>）将直接作为一个参数传递，即使它包含多个段。详见 <a class="reference internal" href="../incoming/routing.html#multiple-uri-segments-as-one-parameter"><span class="std std-ref">多 URI 段作为单一参数</span></a>。</p></li>
<li><p>现在你在 <code class="docutils literal notranslate"><span class="pre">$override404</span></code> 中设置的 404 控制器方法也会接收到 <code class="docutils literal notranslate"><span class="pre">PageNotFoundException</span></code> 消息作为第一个参数。</p></li>
<li><p>现在你可以使用 <code class="docutils literal notranslate"><span class="pre">__invoke()</span></code> 方法作为默认方法。详见 <a class="reference internal" href="../incoming/routing.html#routing-default-method"><span class="std std-ref">默认方法</span></a>。</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id8">
<h3><a class="toc-backref" href="#id41" role="doc-backlink">命令</a><a class="headerlink" href="#id8" title="此标题的永久链接"></a></h3>
<ul class="simple">
<li><p>添加了 <code class="docutils literal notranslate"><span class="pre">spark</span> <span class="pre">optimize</span></code> 命令来优化生产环境的配置。详见 <a class="reference internal" href="../installation/deployment.html#spark-optimize"><span class="std std-ref">spark optimize</span></a>。</p></li>
<li><p>添加了 <code class="docutils literal notranslate"><span class="pre">spark</span> <span class="pre">make:test</span></code> 命令来生成测试文件的骨架。详见 <a class="reference internal" href="../cli/cli_generators.html#cli-generators-make-test"><span class="std std-ref">make:test</span></a>。</p></li>
<li><p>添加了 <code class="docutils literal notranslate"><span class="pre">spark</span> <span class="pre">config:check</span></code> 命令来检查配置值。详见 <a class="reference internal" href="../general/configuration.html#confirming-config-values"><span class="std std-ref">确认配置值</span></a>。</p></li>
<li><p>添加了 <code class="docutils literal notranslate"><span class="pre">spark</span> <span class="pre">phpini:check</span></code> 命令来检查重要的 PHP ini 设置。详见 <a class="reference internal" href="../installation/running.html#spark-phpini-check"><span class="std std-ref">检查 PHP ini 设置</span></a>。</p></li>
<li><p>添加了 <code class="docutils literal notranslate"><span class="pre">spark</span> <span class="pre">lang:find</span></code> 命令来更新翻译键。详见 <a class="reference internal" href="../outgoing/localization.html#generating-translation-files-via-command"><span class="std std-ref">通过命令生成翻译文件</span></a>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spark</span> <span class="pre">db:table</span></code> 命令中已添加 <code class="docutils literal notranslate"><span class="pre">--dbgroup</span></code> 选项。详见 <a class="reference internal" href="../dbmgmt/db_commands.html#db-command-specify-the-dbgroup"><span class="std std-ref">Database Commands</span></a>。</p></li>
</ul>
</section>
<section id="id9">
<h3><a class="toc-backref" href="#id42" role="doc-backlink">测试</a><a class="headerlink" href="#id9" title="此标题的永久链接"></a></h3>
<ul class="simple">
<li><p><strong>DomParser:</strong> 添加了新方法 <code class="docutils literal notranslate"><span class="pre">seeXPath()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">dontSeeXPath()</span></code>，允许用户使用复杂表达式直接与 DOMXPath 对象交互。</p></li>
<li><p><strong>CLI:</strong> 添加了新类 <code class="docutils literal notranslate"><span class="pre">InputOutput</span></code>，现在如果你使用 <code class="docutils literal notranslate"><span class="pre">MockInputOutput</span></code>，可以更轻松地为命令编写测试。详见 <a class="reference internal" href="../testing/cli.html#using-mock-input-output"><span class="std std-ref">使用 MockInputOutput</span></a>。</p></li>
<li><p><strong>Fabricator:</strong> Fabricator 类现在有 <code class="docutils literal notranslate"><span class="pre">setUnique()</span></code>、<code class="docutils literal notranslate"><span class="pre">setOptional()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">setValid()</span></code> 方法，以允许在生成值之前对每个字段调用 Faker 的修饰符。</p></li>
<li><p><strong>TestResponse:</strong> TestResponse 不再继承 <code class="docutils literal notranslate"><span class="pre">PHPUnit\Framework\TestCase</span></code>，因为它不是一个测试。断言的返回类型现在本地化为 <code class="docutils literal notranslate"><span class="pre">void</span></code>。</p></li>
</ul>
</section>
<section id="id10">
<h3><a class="toc-backref" href="#id43" role="doc-backlink">数据库</a><a class="headerlink" href="#id10" title="此标题的永久链接"></a></h3>
<section id="id11">
<h4><a class="toc-backref" href="#id44" role="doc-backlink">查询生成器</a><a class="headerlink" href="#id11" title="此标题的永久链接"></a></h4>
<section id="limit-0">
<span id="v450-query-builder-limit-0-behavior"></span><h5>limit(0) 行为<a class="headerlink" href="#limit-0" title="此标题的永久链接"></a></h5>
<ul class="simple">
<li><p>添加了一个功能标志 <code class="docutils literal notranslate"><span class="pre">Feature::$limitZeroAsAll</span></code> 来修正 <code class="docutils literal notranslate"><span class="pre">limit(0)</span></code> 的错误行为。</p></li>
<li><p>如果在 SQL 语句中指定了 <code class="docutils literal notranslate"><span class="pre">LIMIT</span> <span class="pre">0</span></code>，则返回 0 条记录。然而，查询生成器中存在一个错误，如果指定了 <code class="docutils literal notranslate"><span class="pre">limit(0)</span></code>，生成的 SQL 语句将没有 <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code> 子句，并返回所有记录。</p></li>
<li><p>建议在 <strong>app/Config/Feature.php</strong> 中将 <code class="docutils literal notranslate"><span class="pre">$limitZeroAsAll</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">false</span></code>，因为这个错误行为将在未来版本中修复。详见 <a class="reference internal" href="#v450-model-findall-limit-0-behavior"><span class="std std-ref">findAll(0) 行为</span></a>。</p></li>
</ul>
</section>
</section>
<section id="id12">
<h4><a class="toc-backref" href="#id45" role="doc-backlink">其他</a><a class="headerlink" href="#id12" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p>支持包含点（<code class="docutils literal notranslate"><span class="pre">.</span></code>）的数据库名称。</p></li>
</ul>
</section>
</section>
<section id="id13">
<h3><a class="toc-backref" href="#id46" role="doc-backlink">模型</a><a class="headerlink" href="#id13" title="此标题的永久链接"></a></h3>
<section id="id14">
<h4><a class="toc-backref" href="#id47" role="doc-backlink">模型字段转换</a><a class="headerlink" href="#id14" title="此标题的永久链接"></a></h4>
<p>添加了一个功能来将从数据库检索到的数据转换为合适的 PHP 类型。详见 <a class="reference internal" href="../models/model.html#model-field-casting"><span class="std std-ref">模型字段类型转换</span></a>。</p>
</section>
<section id="findall-0">
<span id="v450-model-findall-limit-0-behavior"></span><h4><a class="toc-backref" href="#id48" role="doc-backlink">findAll(0) 行为</a><a class="headerlink" href="#findall-0" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p>添加了一个功能标志 <code class="docutils literal notranslate"><span class="pre">Feature::$limitZeroAsAll</span></code> 来修正 Query Builder 的 <code class="docutils literal notranslate"><span class="pre">limit(0)</span></code> 的错误行为。详见 <a class="reference internal" href="#v450-query-builder-limit-0-behavior"><span class="std std-ref">limit(0) 行为</span></a>。</p></li>
<li><p>如果你禁用此标志，你需要将 <code class="docutils literal notranslate"><span class="pre">findAll(0,</span> <span class="pre">$offset)</span></code> 更改为 <code class="docutils literal notranslate"><span class="pre">findAll(null,</span> <span class="pre">$offset)</span></code>。</p></li>
</ul>
</section>
<section id="updateonlychanged">
<h4><a class="toc-backref" href="#id49" role="doc-backlink">$updateOnlyChanged</a><a class="headerlink" href="#updateonlychanged" title="此标题的永久链接"></a></h4>
<p>添加了一个属性 <code class="docutils literal notranslate"><span class="pre">$updateOnlyChanged</span></code>，用于决定是否仅更新 <a class="reference internal" href="../models/entities.html"><span class="doc">Entity</span></a> 的更改字段。如果你将此属性设置为 <code class="docutils literal notranslate"><span class="pre">false</span></code>，当你更新一个 Entity 时，即使 Entity 中的值没有变化，也不会抛出 <code class="docutils literal notranslate"><span class="pre">DataException</span></code> “There is no data to update”。</p>
<p>详见 <a class="reference internal" href="../models/model.html#model-update-only-changed"><span class="std std-ref">Using CodeIgniter’s Model</span></a>。</p>
</section>
<section id="id15">
<h4><a class="toc-backref" href="#id50" role="doc-backlink">保存日期</a><a class="headerlink" href="#id15" title="此标题的永久链接"></a></h4>
<p>现在你可以配置保存 <a class="reference internal" href="../libraries/time.html"><span class="doc">Time</span></a> 实例时的日期/时间格式。详见 <a class="reference internal" href="../models/model.html#model-saving-dates"><span class="std std-ref">保存日期</span></a>。</p>
</section>
</section>
<section id="id16">
<h3><a class="toc-backref" href="#id51" role="doc-backlink">库</a><a class="headerlink" href="#id16" title="此标题的永久链接"></a></h3>
<ul class="simple">
<li><p><strong>CORS:</strong> 添加了 <a class="reference internal" href="../libraries/cors.html"><span class="doc">跨域资源共享 (CORS)</span></a> 过滤器和类。</p></li>
<li><dl class="simple">
<dt><strong>Validation:</strong></dt><dd><ul>
<li><p>新增规则 <code class="docutils literal notranslate"><span class="pre">field_exists</span></code>，用于检查字段是否存在于要验证的数据中。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Validation::run()</span></code> 的 <code class="docutils literal notranslate"><span class="pre">$dbGroup</span></code> 参数现在不仅接受数据库组名，还接受数据库连接实例或数据库设置数组。</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Session:</strong></dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">RedisHandler</span></code> 现在可以配置获取锁的时间间隔（<code class="docutils literal notranslate"><span class="pre">$lockRetryInterval</span></code>）和重试次数（<code class="docutils literal notranslate"><span class="pre">$lockMaxRetries</span></code>）。</p></li>
<li><p>现在你可以在 <code class="docutils literal notranslate"><span class="pre">RedisHandler</span></code> 中使用 Redis ACL（用户名和密码）。详见 <a class="reference internal" href="../libraries/sessions.html#sessions-redishandler-driver"><span class="std std-ref">RedisHandler 驱动程序</span></a>。</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><strong>Security:</strong> <code class="docutils literal notranslate"><span class="pre">Config\Security::$redirect</span></code> 现在是特定于环境的。在生产环境中默认改为 <code class="docutils literal notranslate"><span class="pre">true</span></code>，但在其他环境中仍然是 <code class="docutils literal notranslate"><span class="pre">false</span></code>。</p></li>
</ul>
</section>
<section id="id17">
<h3><a class="toc-backref" href="#id52" role="doc-backlink">其他</a><a class="headerlink" href="#id17" title="此标题的永久链接"></a></h3>
<ul class="simple">
<li><p><strong>Bootstrap:</strong> 引入了 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Boot</span></code> 类，取代了 <strong>system/bootstrap.php</strong>。</p></li>
<li><dl class="simple">
<dt><strong>Autoloader:</strong></dt><dd><ul>
<li><p>使用 Composer 时的自动加载性能有所提升。在 <strong>composer.json</strong> 中在 <code class="docutils literal notranslate"><span class="pre">autoload.psr4</span></code> 设置中添加 <code class="docutils literal notranslate"><span class="pre">App</span></code> 命名空间也可能会提升应用的性能。详见 <a class="reference internal" href="../concepts/autoloader.html#autoloader-application-namespace"><span class="std std-ref">应用程序命名空间</span></a>。</p></li>
<li><p>实现了 FileLocator 缓存。详见 <a class="reference internal" href="../concepts/autoloader.html#file-locator-caching"><span class="std std-ref">FileLocator 缓存</span></a>。</p></li>
<li><p>添加了 <code class="docutils literal notranslate"><span class="pre">FileLocatorInterface</span></code>。</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><strong>CodeIgniter:</strong> 新增伪变量 <code class="docutils literal notranslate"><span class="pre">{memory_usage}</span></code>，在视图文件中显示内存使用情况，这是 CodeIgniter 3 支持的功能。</p></li>
<li><p><strong>Events:</strong> 为 Spark 命令添加了事件点 <code class="docutils literal notranslate"><span class="pre">pre_command</span></code> 和 <code class="docutils literal notranslate"><span class="pre">post_command</span></code>。详见 <a class="reference internal" href="../extending/events.html#event-points-for-cli-apps"><span class="std std-ref">Event Points</span></a>。</p></li>
<li><p><strong>HTTP:</strong> 添加了 <code class="docutils literal notranslate"><span class="pre">Message::addHeader()</span></code> 方法来添加另一个具有相同名称的头。详见 <a class="reference internal" href="../incoming/message.html#CodeIgniter\HTTP\Message::addHeader" title="CodeIgniter\HTTP\Message::addHeader"><code class="xref php php-meth docutils literal notranslate"><span class="pre">CodeIgniter\HTTP\Message::addHeader()</span></code></a>。</p></li>
<li><p><strong>Web 页面缓存:</strong> <code class="docutils literal notranslate"><span class="pre">ResponseCache</span></code> 已改进，包含在缓存键中的请求 HTTP 方法。意味着如果 HTTP 方法不同，相同的 URI 将分别缓存。</p></li>
<li><p><strong>CSP:</strong> 添加了 <code class="docutils literal notranslate"><span class="pre">ContentSecurityPolicy::clearDirective()</span></code> 方法来清除现有的 CSP 指令。详见 <a class="reference internal" href="../outgoing/csp.html#csp-clear-directives"><span class="std std-ref">清除指令</span></a>。</p></li>
</ul>
</section>
</section>
<section id="id18">
<h2><a class="toc-backref" href="#id53" role="doc-backlink">重大变更</a><a class="headerlink" href="#id18" title="此标题的永久链接"></a></h2>
<section id="id19">
<h3><a class="toc-backref" href="#id54" role="doc-backlink">行为更改</a><a class="headerlink" href="#id19" title="此标题的永久链接"></a></h3>
<section id="http">
<h4><a class="toc-backref" href="#id55" role="doc-backlink">小写 HTTP 方法名</a><a class="headerlink" href="#http" title="此标题的永久链接"></a></h4>
<p>由于历史原因，框架使用小写的 HTTP 方法名，如 “get”、”post”。
但方法令牌是区分大小写的，因为它可能用于具有区分大小写方法名的基于对象的系统。按照惯例，标准化方法用全大写字母 US-ASCII 字母定义。
详见 <a class="reference external" href="https://www.rfc-editor.org/rfc/rfc9110#name-overview">https://www.rfc-editor.org/rfc/rfc9110#name-overview</a>。</p>
<p>现在框架使用正确的 HTTP 方法名，如 “GET”、”POST”。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Request::getMethod()</span></code> 返回大写的 HTTP 方法。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CURLRequest::request()</span></code> 不会将接受的 HTTP 方法更改为大写。</p></li>
</ul>
<p>详情见 <a class="reference internal" href="../installation/upgrade_450.html#upgrade-450-lowercase-http-method-name"><span class="std std-ref">小写 HTTP 方法名</span></a>。</p>
</section>
<section id="id20">
<h4><a class="toc-backref" href="#id56" role="doc-backlink">过滤器执行顺序</a><a class="headerlink" href="#id20" title="此标题的永久链接"></a></h4>
<p>控制器过滤器的执行顺序已更改。详见 <a class="reference internal" href="../installation/upgrade_450.html#upgrade-450-filter-execution-order"><span class="std std-ref">升级指南</span></a>。</p>
</section>
<section id="id21">
<h4><a class="toc-backref" href="#id57" role="doc-backlink">嵌套路由组和选项</a><a class="headerlink" href="#id21" title="此标题的永久链接"></a></h4>
<p>由于错误修复，行为已更改，使得传递给外部 <code class="docutils literal notranslate"><span class="pre">group()</span></code> 的选项与内部 <code class="docutils literal notranslate"><span class="pre">group()</span></code> 的选项合并。
详见 <a class="reference internal" href="../installation/upgrade_450.html#upgrade-450-nested-route-groups-and-options"><span class="std std-ref">升级指南</span></a>。</p>
</section>
<section id="api-responsetrait">
<h4><a class="toc-backref" href="#id58" role="doc-backlink">API\ResponseTrait</a><a class="headerlink" href="#api-responsetrait" title="此标题的永久链接"></a></h4>
<p>现在当响应格式为 JSON 时，如果你传递字符串数据，框架将返回 JSON 响应。在以前的版本中，它返回 HTML 响应。
详见 <a class="reference internal" href="../installation/upgrade_450.html#upgrade-450-api-response-trait"><span class="std std-ref">升级指南</span></a>。</p>
</section>
<section id="factories">
<h4><a class="toc-backref" href="#id59" role="doc-backlink">Factories 类</a><a class="headerlink" href="#factories" title="此标题的永久链接"></a></h4>
<p><a class="reference internal" href="../concepts/factories.html"><span class="doc">工厂</span></a> 已更改为最终类（final class）。它是一个静态类，即使它被扩展，也没有替换它的方式。</p>
</section>
<section id="id22">
<h4><a class="toc-backref" href="#id60" role="doc-backlink">其他</a><a class="headerlink" href="#id22" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p><strong>AutoRouting Legacy:</strong> 如果请求 URI 对应的控制器不存在，则改为抛出 <code class="docutils literal notranslate"><span class="pre">PageNotFoundException</span></code>。</p></li>
<li><p><strong>Logger:</strong> <a class="reference internal" href="../general/common_functions.html#log_message" title="log_message"><code class="xref php php-func docutils literal notranslate"><span class="pre">log_message()</span></code></a> 函数和 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Log\Logger</span></code> 中的 logger 方法现在不再返回 <code class="docutils literal notranslate"><span class="pre">bool</span></code> 值。返回类型已固定为 <code class="docutils literal notranslate"><span class="pre">void</span></code>，以遵循 PSR-3 接口。</p></li>
<li><p><strong>Autoloader:</strong> 已删除 <code class="docutils literal notranslate"><span class="pre">FileLocator::findQualifiedNameFromPath()</span></code> 返回的完全限定类名中的前缀 <code class="docutils literal notranslate"><span class="pre">\</span></code>。</p></li>
<li><p><strong>BaseModel:</strong> <code class="docutils literal notranslate"><span class="pre">getIdValue()</span></code> 方法已更改为 <code class="docutils literal notranslate"><span class="pre">abstract</span></code>。</p></li>
<li><p><strong>Routing:</strong> <a class="reference internal" href="../incoming/routing.html#override"><span class="std std-ref">404 重写</span></a> 功能默认改变 Response 状态代码为 404。详见 <a class="reference internal" href="../installation/upgrade_450.html#upgrade-450-404-override"><span class="std std-ref">升级指南</span></a>。</p></li>
<li><p><strong>system/bootstrap.php:</strong> 此文件不能再使用。代码已移动到新类 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Boot</span></code>。</p></li>
</ul>
</section>
</section>
<section id="id23">
<h3><a class="toc-backref" href="#id61" role="doc-backlink">接口更改</a><a class="headerlink" href="#id23" title="此标题的永久链接"></a></h3>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>只要你没有扩展相关的 CodeIgniter 核心类或实现这些接口，所有这些更改都是向后兼容的，不需要任何干预。</p>
</div>
<ul class="simple">
<li><p><strong>ResponseInterface:</strong> <code class="docutils literal notranslate"><span class="pre">ResponseInterface::setCookie()</span></code> 的第三个参数 <code class="docutils literal notranslate"><span class="pre">$expire</span></code> 的默认值已从 <code class="docutils literal notranslate"><span class="pre">''</span></code> 修正为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p></li>
<li><p><strong>Logger:</strong> <a class="reference external" href="https://packagist.org/packages/psr/log">psr/log</a> 包已升级到 v3.0.0。</p></li>
<li><p><strong>Validation:</strong> <code class="docutils literal notranslate"><span class="pre">ValidationInterface::run()</span></code> 的方法签名已更改。删除了 <code class="docutils literal notranslate"><span class="pre">$dbGroup</span></code> 参数上的 <code class="docutils literal notranslate"><span class="pre">?string</span></code> 类型提示。</p></li>
</ul>
</section>
<section id="v450-method-signature-changes">
<span id="id24"></span><h3><a class="toc-backref" href="#id62" role="doc-backlink">方法签名更改</a><a class="headerlink" href="#v450-method-signature-changes" title="此标题的永久链接"></a></h3>
<section id="cookie">
<h4><a class="toc-backref" href="#id63" role="doc-backlink">设置 Cookie</a><a class="headerlink" href="#cookie" title="此标题的永久链接"></a></h4>
<p><a class="reference internal" href="../helpers/cookie_helper.html#set_cookie" title="set_cookie"><code class="xref php php-func docutils literal notranslate"><span class="pre">set_cookie()</span></code></a> 和 <a class="reference internal" href="../outgoing/response.html#CodeIgniter\HTTP\Response::setCookie" title="CodeIgniter\HTTP\Response::setCookie"><code class="xref php php-meth docutils literal notranslate"><span class="pre">CodeIgniter\HTTP\Response::setCookie()</span></code></a> 的第三个参数 <code class="docutils literal notranslate"><span class="pre">$expire</span></code> 已修正。</p>
<p>类型已从 <code class="docutils literal notranslate"><span class="pre">string</span></code> 更改为 <code class="docutils literal notranslate"><span class="pre">int</span></code>，默认值已从 <code class="docutils literal notranslate"><span class="pre">''</span></code> 更改为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
</section>
<section id="filelocatorinterface">
<h4><a class="toc-backref" href="#id64" role="doc-backlink">FileLocatorInterface</a><a class="headerlink" href="#filelocatorinterface" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p><strong>Router:</strong> <code class="docutils literal notranslate"><span class="pre">RouteCollection</span></code> 构造函数的第一个参数已从 <code class="docutils literal notranslate"><span class="pre">FileLocator</span></code> 更改为 <code class="docutils literal notranslate"><span class="pre">FileLocatorInterface</span></code>。</p></li>
<li><p><strong>View:</strong> <code class="docutils literal notranslate"><span class="pre">View</span></code> 构造函数的第三个参数已从 <code class="docutils literal notranslate"><span class="pre">FileLocator</span></code> 更改为 <code class="docutils literal notranslate"><span class="pre">FileLocatorInterface</span></code>。</p></li>
</ul>
</section>
<section id="id25">
<h4><a class="toc-backref" href="#id65" role="doc-backlink">返回类型更改</a><a class="headerlink" href="#id25" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p><strong>Model:</strong> <code class="docutils literal notranslate"><span class="pre">Model</span></code> 和 <code class="docutils literal notranslate"><span class="pre">BaseModel</span></code> 类中 <code class="docutils literal notranslate"><span class="pre">objectToRawArray()</span></code> 方法的返回类型已从 <code class="docutils literal notranslate"><span class="pre">?array</span></code> 更改为 <code class="docutils literal notranslate"><span class="pre">array</span></code>。</p></li>
</ul>
</section>
<section id="id26">
<h4><a class="toc-backref" href="#id66" role="doc-backlink">传统验证规则</a><a class="headerlink" href="#id26" title="此标题的永久链接"></a></h4>
<p>为了在框架代码库中添加 <code class="docutils literal notranslate"><span class="pre">declare(strict_types=1)</span></code>，所有传统验证规则类 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Validation\FormatRules</span></code> 和 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Validation\Rules</span></code> 中用于验证值的方法参数类型 <code class="docutils literal notranslate"><span class="pre">?string</span></code> 已移除。</p>
<p>例如，方法签名更改如下:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nx">之前：public</span> <span class="k">function</span> <span class="nf">integer</span><span class="p">(</span><span class="o">?</span><span class="nx">string</span> <span class="nv">$str</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span><span class="o">:</span> <span class="nx">bool</span>
<span class="nx">之后：public</span> <span class="k">function</span> <span class="nf">integer</span><span class="p">(</span><span class="nv">$str</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span><span class="o">:</span> <span class="nx">bool</span>
</pre></div>
</div>
</section>
<section id="id27">
<h4><a class="toc-backref" href="#id67" role="doc-backlink">其他</a><a class="headerlink" href="#id27" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p><strong>Logger:</strong> 实现 PSR-3 接口的 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Log\Logger</span></code> 中方法的签名已修正。<code class="docutils literal notranslate"><span class="pre">bool</span></code> 返回类型已更改为 <code class="docutils literal notranslate"><span class="pre">void</span></code>。<code class="docutils literal notranslate"><span class="pre">$message</span></code> 参数现在具有 <code class="docutils literal notranslate"><span class="pre">string|Stringable</span></code> 类型。</p></li>
<li><p><strong>Validation:</strong> <code class="docutils literal notranslate"><span class="pre">Validation::run()</span></code> 的方法签名已更改。去掉了 <code class="docutils literal notranslate"><span class="pre">?string</span></code> 类型提示。</p></li>
</ul>
</section>
</section>
<section id="v450-removed-deprecated-items">
<span id="id28"></span><h3><a class="toc-backref" href="#id68" role="doc-backlink">移除的弃用项</a><a class="headerlink" href="#v450-removed-deprecated-items" title="此标题的永久链接"></a></h3>
<section id="request">
<h4><a class="toc-backref" href="#id69" role="doc-backlink">Request</a><a class="headerlink" href="#request" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">RequestInterface</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Request</span></code> 中 <code class="docutils literal notranslate"><span class="pre">getMethod()</span></code> 的 <code class="docutils literal notranslate"><span class="pre">$upper</span></code> 参数已移除。详见 <a class="reference internal" href="../installation/upgrade_450.html#upgrade-450-lowercase-http-method-name"><span class="std std-ref">小写 HTTP 方法名</span></a>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RequestInterface</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Request</span></code> 中弃用的 <code class="docutils literal notranslate"><span class="pre">isValidIP()</span></code> 方法已移除。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IncomingRequest</span></code> 中弃用的 <code class="docutils literal notranslate"><span class="pre">$uri</span></code> 和 <code class="docutils literal notranslate"><span class="pre">$config</span></code> 属性的可见性已更改为 protected。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IncomingRequest</span></code> 中的 <code class="docutils literal notranslate"><span class="pre">$enableCSRF</span></code> 属性已移除。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IncomingRequest</span></code> 中的 <code class="docutils literal notranslate"><span class="pre">removeRelativeDirectory()</span></code> 方法已移除。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Request</span></code> 中的 <code class="docutils literal notranslate"><span class="pre">$proxyIPs</span></code> 属性已移除。</p></li>
</ul>
</section>
<section id="filters">
<h4><a class="toc-backref" href="#id70" role="doc-backlink">Filters</a><a class="headerlink" href="#filters" title="此标题的永久链接"></a></h4>
<ul>
<li><p>已移除以下弃用项，因为现在始终启用 <a class="reference internal" href="../incoming/routing.html#multiple-filters"><span class="std std-ref">多重过滤器</span></a>。</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Filters::enableFilter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RouteCollection::getFilterForRoute()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Router::$filterInfo</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Router::getFilter()</span></code></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="id29">
<h4><a class="toc-backref" href="#id71" role="doc-backlink">数据库</a><a class="headerlink" href="#id29" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ModelFactory</span></code></p></li>
</ul>
</section>
<section id="id30">
<h4><a class="toc-backref" href="#id72" role="doc-backlink">模型</a><a class="headerlink" href="#id30" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BaseModel::idValue()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BaseModel::fillPlaceholders()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model::idValue()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Model::classToArray()</span></code></p></li>
</ul>
</section>
<section id="response">
<h4><a class="toc-backref" href="#id73" role="doc-backlink">Response</a><a class="headerlink" href="#response" title="此标题的永久链接"></a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">ResponseTrait::$CSP</span></code> 属性的可见性已更改为 protected。</p></li>
<li><p>以下弃用的属性已移除：</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ResponseTrait::$CSPEnabled</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ResponseTrait::$cookiePrefix</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ResponseTrait::$cookieDomain</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ResponseTrait::$cookiePath</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ResponseTrait::$cookieSecure</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ResponseTrait::$cookieHTTPOnly</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ResponseTrait::$cookieSameSite</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ResponseTrait::$cookies</span></code></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="security">
<h4><a class="toc-backref" href="#id74" role="doc-backlink">Security</a><a class="headerlink" href="#security" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SecurityInterface::isExpired()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Security::isExpired()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Security::CSRFVerify()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Security::getCSRFHash()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Security::getCSRFTokenName()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Security::sendCookie()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Security::doSendCookie()</span></code></p></li>
</ul>
</section>
<section id="codeigniter">
<h4><a class="toc-backref" href="#id75" role="doc-backlink">CodeIgniter</a><a class="headerlink" href="#codeigniter" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$path</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$useSafeOutput</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">useSafeOutput()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setPath()</span></code></p></li>
</ul>
</section>
<section id="id31">
<h4><a class="toc-backref" href="#id76" role="doc-backlink">测试</a><a class="headerlink" href="#id31" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CIDatabaseTestCase</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ControllerResponse</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ControllerTester</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FeatureResponse</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FeatureTestCase</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mock\MockSecurityConfig</span></code></p></li>
</ul>
</section>
<section id="spark">
<h4><a class="toc-backref" href="#id77" role="doc-backlink">Spark 命令</a><a class="headerlink" href="#spark" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">migrate:create</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">session:migration</span></code></p></li>
</ul>
</section>
<section id="id32">
<h4><a class="toc-backref" href="#id78" role="doc-backlink">其他</a><a class="headerlink" href="#id32" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p><strong>Cache:</strong> 已移除 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Cache\Exceptions\ExceptionInterface</span></code>。</p></li>
<li><dl class="simple">
<dt><strong>Config:</strong></dt><dd><ul>
<li><p>已移除 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Config\Config</span></code> 类。</p></li>
<li><p>已移除 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Config\BaseService::discoverServices()</span></code> 方法。</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><strong>Controller:</strong> 已移除 <code class="docutils literal notranslate"><span class="pre">Controller::loadHelpers()</span></code> 方法。</p></li>
<li><p><strong>Exceptions:</strong> 已移除 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Exceptions\CastException</span></code> 类。</p></li>
<li><p><strong>Entity:</strong> 已移除 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Entity</span></code> 类。请使用 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Entity\Entity</span></code>。</p></li>
<li><p><strong>spark:</strong> 已移除 <code class="docutils literal notranslate"><span class="pre">SPARKED</span></code> 常量。</p></li>
</ul>
</section>
</section>
</section>
<section id="id33">
<h2><a class="toc-backref" href="#id79" role="doc-backlink">消息更改</a><a class="headerlink" href="#id33" title="此标题的永久链接"></a></h2>
<ul class="simple">
<li><p>添加了 <code class="docutils literal notranslate"><span class="pre">CLI.generator.className.test</span></code> 消息。</p></li>
<li><p>添加了 <code class="docutils literal notranslate"><span class="pre">Validation.field_exists</span></code> 错误消息。</p></li>
</ul>
</section>
<section id="id34">
<h2><a class="toc-backref" href="#id80" role="doc-backlink">更改</a><a class="headerlink" href="#id34" title="此标题的永久链接"></a></h2>
<ul class="simple">
<li><p><strong>Bootstrap:</strong> <strong>.env</strong> 的加载和 <code class="docutils literal notranslate"><span class="pre">ENVIRONMENT</span></code> 的定义已移至 <strong>bootstrap.php</strong> 之前加载。</p></li>
<li><dl class="simple">
<dt><strong>Config:</strong></dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Config\Feature::$multipleFilters</span></code> 已移除，因为现在始终启用 <a class="reference internal" href="../incoming/routing.html#multiple-filters"><span class="std std-ref">多重过滤器</span></a>。</p></li>
<li><p>生产环境中的默认错误级别（<strong>app/Config/Boot/production.php</strong>）已更改为 <code class="docutils literal notranslate"><span class="pre">E_ALL</span> <span class="pre">&amp;</span> <span class="pre">~E_DEPRECATED</span></code>，以匹配生产环境的默认 <strong>php.ini</strong>。</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><strong>RouteCollection:</strong> 受保护属性 <code class="docutils literal notranslate"><span class="pre">$routes</span></code> 中的 HTTP 方法键已从小写修正为大写。</p></li>
<li><p><strong>Exceptions:</strong> 未使用的 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Exceptions\AlertError</span></code> 和 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Exceptions\EmergencyError</span></code> 已移除。</p></li>
<li><p><strong>Forge:</strong> <code class="docutils literal notranslate"><span class="pre">SQLSRV</span></code> Forge 现在在添加表列时将 <code class="docutils literal notranslate"><span class="pre">ENUM</span></code> 数据类型转换为 <code class="docutils literal notranslate"><span class="pre">VARCHAR(n)</span></code>。在以前的版本中，它被转换为 SQL Server 中弃用的 <code class="docutils literal notranslate"><span class="pre">TEXT</span></code>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">declare(strict_types=1)</span></code> 已添加到大多数框架代码库。</p></li>
</ul>
</section>
<section id="id35">
<h2><a class="toc-backref" href="#id81" role="doc-backlink">弃用项</a><a class="headerlink" href="#id35" title="此标题的永久链接"></a></h2>
<ul class="simple">
<li><p><strong>Services:</strong> <code class="docutils literal notranslate"><span class="pre">BaseService::$services</span></code> 属性已弃用，不再使用。</p></li>
<li><dl class="simple">
<dt><strong>CodeIgniter:</strong></dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">determinePath()</span></code> 方法已弃用，不再使用。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resolvePlatformExtensions()</span></code> 方法已弃用，不再使用。它已被移到 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Boot::checkMissingExtensions()</span></code> 方法。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bootstrapEnvironment()</span></code> 方法已弃用，不再使用。它已被移到 <code class="docutils literal notranslate"><span class="pre">CodeIgniter\Boot::loadEnvironmentBootstrap()</span></code> 方法。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">initializeKint()</span></code> 方法已弃用，不再使用。它已移到 <code class="docutils literal notranslate"><span class="pre">Autoloader</span></code>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">autoloadKint()</span></code> 方法已弃用，不再使用。它已移到 <code class="docutils literal notranslate"><span class="pre">Autoloader</span></code>。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">configureKint()</span></code> 方法已弃用，不再使用。它已移到 <code class="docutils literal notranslate"><span class="pre">Autoloader</span></code>。</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><strong>Response:</strong> 构造函数参数 <code class="docutils literal notranslate"><span class="pre">$config</span></code> 已弃用，不再使用。</p></li>
<li><dl class="simple">
<dt><strong>Filters:</strong></dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Filters</span></code> 接受 <code class="docutils literal notranslate"><span class="pre">Config\Filters::$methods</span></code> 的小写 HTTP 方法键的功能已弃用。请改用正确的大写 HTTP 方法键。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spark</span> <span class="pre">filter:check</span></code> 命令接受小写 HTTP 方法的功能已弃用。请改用正确的大写 HTTP 方法。</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><strong>RouteCollection:</strong> <code class="docutils literal notranslate"><span class="pre">match()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">setHTTPVerb()</span></code> 方法接受小写 HTTP 方法的功能已弃用。请改用正确的大写 HTTP 方法。</p></li>
<li><p><strong>FeatureTestTrait:</strong> <code class="docutils literal notranslate"><span class="pre">call()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">withRoutes()</span></code> 方法接受小写 HTTP 方法的功能已弃用。请改用正确的大写 HTTP 方法。</p></li>
<li><p><strong>Database:</strong> <code class="docutils literal notranslate"><span class="pre">BaseConnection::$strictOn</span></code> 已弃用，未来将迁移到 <code class="docutils literal notranslate"><span class="pre">MySQLi\Connection</span></code>。</p></li>
</ul>
</section>
<section id="id36">
<h2><a class="toc-backref" href="#id82" role="doc-backlink">修复的错误</a><a class="headerlink" href="#id36" title="此标题的永久链接"></a></h2>
<p>请参阅仓库中的
<a class="reference external" href="https://github.com/codeigniter4/CodeIgniter4/blob/develop/CHANGELOG.md">CHANGELOG.md</a>
获取完整的错误修复列表。</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="v4.5.1.html" class="btn btn-neutral float-left" title="版本 4.5.1" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="v4.4.8.html" class="btn btn-neutral float-right" title="版本 4.4.8" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2019-2025 CodeIgniter 基金会.
      <span class="lastupdated">最后更新于 2025-03-18.
      </span></p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
  
<jinja2.runtime.BlockReference object at 0x7f301b65c0d0>

<div style="margin-top: 16px;">
  <p>由 <a href="https://codeigniter.org.cn">CodeIgniter 中国开发者社区</a>翻译并制作</p>
  <p style="margin-bottom: 0;">
    <a href="https://github.com/CodeIgniter-Chinese/codeigniter4-user-guide" target="_blank">Github 简体中文翻译</a>
    ·
    <a href="https://codeigniter-chinese.github.io/codeigniter4-user-guide/codeigniter_user_guide.zip">离线版压缩包下载</a>
    ·
    <a href="https://codeigniter-chinese.github.io/codeigniter4-user-guide/CodeIgniter.pdf">PDF 版下载</a>
  </p>
</div>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>