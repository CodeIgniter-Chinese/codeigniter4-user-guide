################
网页缓存
################

CodeIgniter 允许你缓存网页以达到最大性能。

虽然 CodeIgniter 很快,但你在页面上显示的动态信息量将直接关联到服务器资源、内存和处理周期的利用,这会影响你的页面加载速度。通过缓存页面,由于它们以完全渲染的状态保存,你可以达到更接近静态网页的性能。

.. contents::
    :local:
    :depth: 2

缓存是如何工作的?
======================

缓存可以在每个页面的基础上启用,你可以设置页面保持缓存的时间长度,之后会刷新。当一个页面第一次加载时,该文件将使用当前配置的缓存引擎进行缓存。在后续页面加载中,会检索缓存文件并发送给请求用户的浏览器。如果已过期,它会在发送到浏览器前删除和刷新。

.. note:: Benchmark 标签不会被缓存,所以启用缓存后你仍可以查看页面加载速度。

启用缓存
================

要启用缓存,请在任何控制器方法中放入以下标签:

.. literalinclude:: caching/001.php

其中 ``$n`` 是页面在刷新之间保持缓存的 **秒数**。

上面的标签可以放在一个方法的任何位置。它的位置不会受到影响,所以将其放在你认为最合适的位置。一旦标签就位,你的页面就会开始被缓存。

.. important:: 如果你改变了可能影响输出的配置选项,你必须手动删除缓存文件。

.. note:: 在可以写入缓存文件之前,你必须通过编辑 **app/Config/Cache.php** 来设置缓存引擎。

删除缓存
===============

如果你不再希望缓存一个文件,可以删除缓存标签,它就不会在过期时刷新。

.. note:: 删除标签不会立即删除缓存。它必须正常过期。
