###############
数据库事件
###############

数据库类包含几个可以利用的 :doc:`事件 </extending/events>`,以了解数据库执行期间发生的更多信息。这些事件可用于收集数据以进行分析和报告。 :doc:`调试工具栏 </testing/debugging>` 使用此操作来收集在工具栏中显示的查询。

.. contents::
    :local:
    :depth: 2

**********
事件
**********

DBQuery
=======

每当运行新查询时,无论成功与否,都会触发此事件。唯一的参数是当前查询的 :doc:`查询 </database/queries>` 实例。您可以使用它在 STDOUT 中显示所有查询,或日志记录到文件,甚至创建工具来执行自动查询分析以帮助您发现可能缺少的索引、慢查询等。示例用法可能是:

.. literalinclude:: events/001.php
