

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>贡献工作流程 &mdash; CodeIgniter 4.0.0-alpha.1 中文手册|用户手册|用户指南|中文文档</title>
  

  
  
    <link rel="shortcut icon" href="../_static/ci-icon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/citheme.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="../genindex.html"/>
        <link rel="search" title="搜索" href="../search.html"/>
    <link rel="top" title="CodeIgniter 4.0.0-alpha.1 中文手册|用户手册|用户指南|中文文档" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> CodeIgniter4
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">欢迎使用 CodeIgniter4</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">安装</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">CodeIgniter4 概览</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">常规主题</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../incoming/index.html">Controllers and Routing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../outgoing/index.html">Building Responses</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">数据库参考</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../models/index.html">Modeling Data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dbmgmt/index.html">Managing Databases</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">类库参考</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">辅助函数</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing/index.html">Testing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">命令行用法</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../extending/index.html">Extending CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../license.html">The MIT License (MIT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CodeIgniter4</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>贡献工作流程</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>贡献工作流程<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<p>大量工作流程为了贡献给 CodeIgniter（或者任何项目），包括理解 <a class="reference external" href="https://git-scm.com/">Git</a>  过去如何管理共享库并且贡献给项目。
例如下面使用 Git bash shell （命令行界面）尽可能保持平台无特征的。你的 IDE（集成开发环境）也许会使得下面流程中的一些更简单。</p>
<p>一些规约常常用在下面，当你尝试这些规约时你要提供合适的值:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">ALL_PROJECTS</span>    <span class="c1">// 在子文件夹下所有项目的文件位置，例如: /lampp/htdocs</span>
<span class="nx">YOUR_PROJECT</span>    <span class="c1">// 文件夹包括你正在工作的项目，在 ALL_PROJECTS 里</span>
<span class="nx">ORIGIN_URL</span>      <span class="c1">// 对你的库 fork(系统调用) 的原始网址的复制 URL（网页地址）</span>
<span class="nx">UPSTREAM_URL</span>    <span class="c1">// 对 CodeIgniter4 库原始网址的复制 URL（网页地址）</span>
</pre></div>
</div>
<div class="section" id="id2">
<h2>分支程序<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>CodeIgniter 使用 <a class="reference external" href="http://nvie.com/posts/a-successful-git-branching-model/">Git-Flow</a>  分支模板，所有出栈请求（pull requests）需求要被发送到 &quot;develop （开发）&quot; 分支。被发送到开发分支的出栈请求（pull requests）将会作为下一个计划版本开发。 &quot;master（主分支）&quot; 分支常会包含最新的稳定版本并且如是的 &quot;hotfix （热修复）&quot;（例如：应急加密补丁） 会洁净如新的被应用在母分支上创建新版本，排除担心其他特征会拦劫它。因为这个原因所有的提交需要被制作成 &quot;develop&quot; 版本并且一些被送到 &quot;master（主分支）&quot; 的提交将会被自动地关闭。如果你有复合的选择要传递，请在你的 fork（系统调用）上放置每一个改变他们自身的分支程序。</p>
<p>每次一件事：一个出栈请求应该仅包含一个改变。那并不意味着仅仅一次提交，但一次改变它或许会带来许多提交。这个理由就像你改变了 X 和 Y 并在同时为他们发送了出栈请求，我们也许真的想同意 X 但不同意 Y ，那意思是我们不能合并这个请求。使用 Git-flow 分支模板你能为所有这些特性去创建新的分支程序并发送两个请求。</p>
</div>
<div class="section" id="id3">
<h2>系统调用<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<p>你的工作会带着 CodeIgniter4 库的系统调用。这是在你 github 账户里我们库的一份拷贝。你能对你的系统调用库做出改变，当然你不能对已经共享的系统调用做同样的事情　——　你要对它提交出栈请求而非硬改你的系统调用。</p>
<p>通过 Github 网站 <a class="reference external" href="https://help.github.com/articles/fork-a-repo/">创建系统调用</a> 直到完成。跟着 <a class="reference external" href="https://github.com/bcit-ci/CodeIgniter4">我们
库</a> 的导航，点击页面顶部右方的  <strong>Fork</strong> （系统调用）按钮，然后选择应该包含那个系统调用的你的账户或组织。</p>
</div>
<div class="section" id="id6">
<h2>克隆（编程学）<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<p>你 <em>能</em> 用 Github 的页面接口工作在你的库上，但那是笨拙的。大多数开发人员将会克隆它们的库到他们本地系统中并且在本地系统里工作。</p>
<p>在 Github 上，导航到你系统调用的库，点击 <strong>克隆或者下载</strong> ，然后复制已显示的克隆地址。我们将会参考复制的地址作为 ORIGIN_URL（起始地址）。</p>
<p>克隆你的库，为你去工作备用一个本地文件夹:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">cd</span> <span class="nx">ALL_PROJECTS</span>
<span class="nx">git</span> <span class="k">clone</span> <span class="nx">ORIGIN_URL</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h2>同步<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h2>
<p>在你的本地库里面，Git 将会创建一个别名，<strong>起源</strong>，对于 Github 库别名是必须的。你要为共享库创建别名，所以你能 &quot;synch（同步）&quot; 两个别名，包括任何其他的贡献确保你的库已经被我们合并到共享库:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">git</span> <span class="nx">remote</span> <span class="nx">add</span> <span class="nx">upstream</span> <span class="nx">UPSTREAM_URL</span>
</pre></div>
</div>
<p>那么从我们那拉取的同步完成了并且推送给你。这是正常的本地化，因此你能解决任何合并冲突。例证，同步 <strong>开发</strong> 分支:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">git</span> <span class="nx">checkout</span> <span class="nx">develop</span>
<span class="nx">git</span> <span class="nx">pull</span> <span class="nx">upstream</span> <span class="nx">develop</span>
<span class="nx">git</span> <span class="nx">push</span> <span class="nx">origin</span> <span class="nx">develop</span>
</pre></div>
</div>
<p>当你拉取上游数据的时候你也许遇见了合并冲突。你的责任是要解决这些本地数据，因此你要继续与共享库协作。主要地，共享库在指令里被更新并且贡献被合并到里面，不是在指令里那么他们也许已经被提交了。如果两个 PRs（出栈请求） 更新在相同的代码片段里，那么被合并的第一段将会优先接受，即使它会对其他贡献来说会引起问题。</p>
<p>当共享变更时同步内容是一个好主意。</p>
</div>
<div class="section" id="id8">
<h2>分支程序回访<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h2>
<p>本页面最开始谈论了 <strong>主要</strong> 程序和 <strong>开发</strong> 分支程序。创建本地 <em>特征分支程序</em> 是对你工作 <em>最好的实践</em> ，去控制相关改变的几个窗口（如：源码，单元测试，文件，变更日志，等等）。本地分支程序应当被适当的命名，例如 &quot;fix/problem123&quot; 或者 &quot;new/mind-reader&quot;.</p>
<p>例如，保证你仍在 <em>开发</em> 分支程序里并且创建新的特征分支程序，基于 <em>开发</em> ，为了新的特征你要创建:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">git</span> <span class="nx">checkout</span> <span class="nx">develop</span>
<span class="nx">git</span> <span class="nx">checkout</span> <span class="o">-</span><span class="nx">b</span> <span class="k">new</span><span class="o">/</span><span class="nx">mind</span><span class="o">-</span><span class="nx">reader</span>
</pre></div>
</div>
<p>正保存的改变仅更新你的本地正工作的区域。</p>
</div>
<div class="section" id="id9">
<h2>提交<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h2>
<p>你的本地改变要被 <em>提交</em> 并在你本地库里保存它们。这刚好是  <a class="reference external" href="signing">贡献签名</a>  存在的位置。</p>
<p>在分支程序里和你需要 &quot;把它彻底弄清楚&quot; 一样你能有许多的提交。例如，从一个调试权限里提交你的工作:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">git</span> <span class="nx">add</span> <span class="o">.</span>
<span class="nx">git</span> <span class="nx">commit</span> <span class="o">-</span><span class="nx">S</span> <span class="o">-</span><span class="nx">m</span> <span class="s2">&quot;Find and fix the broken reference problem&quot;</span>
</pre></div>
</div>
<p>仅保证在特征分支程序里你的提交全是有密切联系的。</p>
<p>如果你在同时忙于两个特征，而你将要在它们之间调整以保持贡献分开。例如:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">git</span> <span class="nx">checkout</span> <span class="k">new</span><span class="o">/</span><span class="nx">mind</span><span class="o">-</span><span class="nx">reader</span>
<span class="c1">// work away</span>
<span class="nx">git</span> <span class="nx">add</span> <span class="o">.</span>
<span class="nx">git</span> <span class="nx">commit</span> <span class="o">-</span><span class="nx">S</span> <span class="o">-</span><span class="nx">m</span> <span class="s2">&quot;Added adapter for abc&quot;</span>
<span class="nx">git</span> <span class="nx">checkout</span> <span class="nx">fix</span><span class="o">/</span><span class="nx">issue</span><span class="o">-</span><span class="mi">123</span>
<span class="c1">// work away</span>
<span class="nx">git</span> <span class="nx">add</span> <span class="o">.</span>
<span class="nx">git</span> <span class="nx">commit</span> <span class="o">-</span><span class="nx">S</span> <span class="o">-</span><span class="nx">m</span> <span class="s2">&quot;Fixed problem in DEF\Something&quot;</span>
<span class="nx">git</span> <span class="nx">checkout</span> <span class="nx">develop</span>
</pre></div>
</div>
<p>你的库最后的检查确保在你的 <em>开发</em> 分支里为了你接下来阶段的工作你的终点就像起点。这是个有益的实践，如同你正工作的分支程序不常常是明显的。</p>
</div>
<div class="section" id="id11">
<h2>推送你的分支程序<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h2>
<p>基于一些精髓，你将会决定你的特征分支程序完成了，或者它会得益于关注的开发者复审。</p>
<p>同步你的库:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">git</span> <span class="nx">checkout</span> <span class="nx">develop</span>
<span class="nx">git</span> <span class="nx">pull</span> <span class="nx">upstream</span> <span class="nx">develop</span>
<span class="nx">git</span> <span class="nx">push</span> <span class="nx">origin</span> <span class="nx">develop</span>
</pre></div>
</div>
<p>带来你最新的特征分支程序:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">git</span> <span class="nx">checkout</span> <span class="k">new</span><span class="o">/</span><span class="nx">mind</span><span class="o">-</span><span class="nx">reader</span>
<span class="nx">git</span> <span class="nx">merge</span> <span class="nx">develop</span>
</pre></div>
</div>
<p>最后推送你本地的分支程序到你的 Github 库:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">git</span> <span class="nx">push</span> <span class="nx">origin</span> <span class="k">new</span><span class="o">/</span><span class="nx">mind</span><span class="o">-</span><span class="nx">reader</span>
</pre></div>
</div>
</div>
<div class="section" id="id12">
<h2>出栈请求<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h2>
<p>在 Github 上，你打算同时改变一个特征分支程序，调整到你希望贡献的分支程序，于是点击 &quot;New pull request&quot; (新的出栈请求)。</p>
<p>保证出栈请求是为共享的 <strong>开发</strong> 分支，要不然出栈请求或许会被拒绝。</p>
<p>保证 PR （出栈请求）题目是对维护人员和其他的开发人员有帮助的。添加一些适当的评论，比如为了复审而询问。</p>
<p>当你的 PR（出栈请求） 已经确定了，连续的整合任务会被触发，运行所有的测试单元就像我们已经为出栈请求已经配置的任何其他正在检查的一样好。如果单元测试失败了，或者有合并冲突，在修好以前你的 PR （出栈请求）将不会被合并。</p>
<p>准备这样的本地地改变，适当地提交它们，于是再次推送你的分支程序。 PR （出栈请求）将自动地更新，然后再次运行 CI （ CodeIgniter） 测试。你不需要增加新的 PR (出栈请求)。</p>
<p>如果你的 PR (出栈请求)不遵循我们的贡献原则，或者是不完整的，基本代码的维护者将会在它上面做评论，指出什么需要修正。</p>
</div>
<div class="section" id="id13">
<h2>清除<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h2>
<p>如果你的 PR （出栈请求）接受并合并到共享库里，你能在你的 github 库里尽可能恰当的删除本地分支程序。</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; 版权所有 2014-2018 不列颠哥伦比亚理工学院.
       最后修改：2019-07-11。

    </p>
  </div>
  基于 <a href="http://sphinx-doc.org/">Sphinx</a> 并使用 <a href="https://readthedocs.org">Read the Docs</a> 提供的<a href="https://github.com/snide/sphinx_rtd_theme">风格</a>构建. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'4.0.0-alpha.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>